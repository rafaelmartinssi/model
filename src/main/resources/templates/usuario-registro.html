<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

	<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="description" content="" />
	<meta name="author" content="" />
	<title>Registros Usuários</title>
	
	<link rel="shortcut icon" href="/images/favicon.ico">
	<!-- Bootstrap Css -->
	<link href="/css/bootstrap.min.css" id="bootstrap-style"
		rel="stylesheet" type="text/css" />
	<!-- Datatable Css -->
	<link href="/css/dataTables.bootstrap5.min.css" rel="stylesheet" /> 
	<!-- Icons Css -->
	<link href="/css/icons.min.css" rel="stylesheet" type="text/css" />
	<!-- App Css-->
	<link href="/css/app.min.css" id="app-style" rel="stylesheet"
		type="text/css" />
	</head>
<body>

	<!-- <body data-layout="horizontal"> -->
	<!-- Begin page -->
	<div id="layout-wrapper">

		<!-- ========== Header Sidenav Start ========== -->
		<header th:replace="~{fragments/navbar :: navbar}"></header>

		<!-- ========== Left Sidebar Start ========== -->
		<div th:replace="~{fragments/sidenav :: sidenav}"></div>

		<!-- ============================================================== -->
		<!-- Start right Content here -->
		<!-- ============================================================== -->
		<div class="main-content">
			
			<!-- start page content -->
			<div class="page-content">
				<!-- start conteiner-fluid -->
				<div class="container-fluid">

					<!-- start page title -->
					<div class="row">
						<div class="col-12">
							<div
								class="page-title-box d-flex align-items-center justify-content-between">
								<h4 class="mb-0">Registros de Usuários</h4>
								<div class="page-title-right">
									<ol class="breadcrumb m-0">
										<li class="breadcrumb-item">Usuários</li>
										<li class="breadcrumb-item">Registros</li>
									</ol>
								</div>
							</div>
						</div>
					</div>
					<!-- end page title -->

					<!--alert success)-->
					<div th:replace="~{fragments/alert-sucess :: alert-sucess}"></div>
					
					<!-- row start -->
					<div class="row">
						<!-- col start -->
						<div class="col-12">
							<!-- card start -->
							<div class="card">
								<div
									class="card-header justify-content-between d-flex align-items-center">
									<h4 class="card-title">Registros</h4>
									<a th:href="@{/usuarios}"
										class="btn btn-sm btn-soft-secondary">Ir para cadastro <i
										class="mdi mdi-arrow-right align-middle"></i></a>
								</div>
								<!-- end card header -->
								<!-- card body start -->
								<div class="card-body">
									<!-- table responsive start -->
									<div class="table-responsive">
										<!-- table start -->
										<table id="datatable" class="table table-hover table-nowrap mb-0 align-middle table-check">
											<thead class="bg-light">
												<tr>
													<th>ID</th>
													<th>Nome</th>
													<th>Sobrenome</th>
													<th>Masp</th>
													<th>Unidade</th>
													<th>Carreira</th>
													<th>Ações</th>
												</tr>
											</thead>
											<tbody>
												<tr th:each="usuario:${usuarios}">
													<td th:text="${usuario.id}"></td>
													<td th:text="${usuario.nome}"></td>
													<td th:text="${usuario.sobrenome}"></td>
													<td th:text="${usuario.masp}"></td>
													<td th:text="${usuario.codigo.descricao}"></td>
													<td th:text="${usuario.carreira.descricao}"></td>
													<td><div class="dropdown">
                                                            <a href="#" class="dropdown-toggle card-drop"
                                                                data-bs-toggle="dropdown" aria-expanded="false">
                                                                <i
                                                                    class="mdi mdi-dots-horizontal font-size-18 text-muted"></i>
                                                            </a>
                                                            <ul class="dropdown-menu dropdown-menu-end">
                                                                <li><a th:href="@{/usuarios/{id}(id = ${usuario.id})}" class="dropdown-item">
                                                                	<i class="mdi mdi-pencil font-size-16 text-success me-1"></i>
                                                                    Editar</a></li>
                                                                <li><a class="dropdown-item"
                                                                	type="button"
                                                                	data-bs-toggle="modal"
																	data-bs-target="#exampleModal"
																	th:attr="data-codigo=${usuario.id},data-descricao=${usuario.nome},data-acao='/usuarios'">
                                                                	<i class="mdi mdi-trash-can font-size-16 text-danger me-1"></i>
                                                                    Excluir</a></li>
                                                                <li><a th:href="@{/usuarios/info(id = ${usuario.id})}" class="dropdown-item">
                                                                   	<i class="mdi mdi-eye font-size-16 text-primary me-1"></i>
                                                                    Ver</a></li>
                                                            </ul>
                                                        </div>
													</td>		
												</tr>
											</tbody>
										</table>
										<!-- end table -->

										<!-- modal remove start -->
										<div th:replace="~{fragments/modal-exclusao :: modal-exclusao}"></div>

									</div>
									<!-- end table responsive -->
								</div>
								<!-- end card body -->
							</div>
							<!-- end card -->
						</div>
						<!-- end col -->
					</div>
					<!-- end row -->

				</div>
				<!-- container-fluid -->
			</div>
			<!-- End Page-content -->

			<!-- ========== Footer Start ========== -->
			<footer th:replace="~{fragments/footer :: footer}"></footer>

		</div>
		<!-- end main content-->
	</div>
	<!-- END layout-wrapper -->

	<!-- Right bar overlay-->
	<div class="rightbar-overlay"></div>

	<!-- JQUERY -->
	<script type="text/javascript" src="/js/jquery-3.5.1.js"></script> 
    
    <!-- JAVASCRIPT DATATABLE--> 
    <script type="text/javascript" src="/js/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="/js/dataTables.bootstrap5.min.js"></script>
    
    <!--MY JAVASCRIPT--> 
    <script type="text/javascript" src="/js/scripts.js"></script>
    
    <!-- JAVASCRIPT TEMPLATE-->
	<script src="/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
	<script src="/libs/simplebar/simplebar.min.js"></script>
	<script src="/libs/feather-icons/feather.min.js"></script>
	<script src="/js/app.js"></script>
</body>
</html>

